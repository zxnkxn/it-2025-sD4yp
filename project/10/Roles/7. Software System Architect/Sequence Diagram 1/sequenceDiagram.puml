@startuml
title Процесс аутентификации пользователя

actor Пользователь
participant "User Interface" as UI
participant "CoreApp" as CoreApp
participant "Auth Manager" as AuthManager
database DB

Пользователь -> UI : Открывает страницу входа
Пользователь -> UI : Вводит email и пароль
Пользователь -> UI : Нажимает «Войти»

UI -> CoreApp : POST /api/login\nс учётными данными
CoreApp -> AuthManager : Аутентификация пользователя
AuthManager -> DB : Поиск пользователя по email
DB --> AuthManager : Результат поиска

alt Пользователь не найден
    AuthManager --> CoreApp : Ошибка аутентификации
else Пользователь найден
    AuthManager -> AuthManager : Верификация пароля
    alt Пароль неверен
        AuthManager --> CoreApp : Ошибка аутентификации
    else Пароль верен
        AuthManager --> CoreApp : Успех аутентификации
    end
end

CoreApp --> UI : Ответ сервера

alt Ошибка аутентификации
    UI --> Пользователь : Сообщение об ошибке
else Успешная аутентификация
    UI -> UI : Сохранение токена
    UI -> UI : Перенаправление
    UI --> Пользователь : Открытие вкладки Explore
end

@enduml
